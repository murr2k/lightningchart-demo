<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LightningChart License Test</title>
    <script type="module">
        import { lightningChart } from '@lightningchart/lcjs'
        
        window.addEventListener('load', () => {
            const output = document.getElementById('output')
            
            try {
                console.log('Testing license initialization...')
                
                // Your valid license (expires 30 days from July 28, 2025)
                const lc = lightningChart({
                    license: "0002-n9xRML+Glr3QwdvnJVsvK6cQVxjGKwDdUQmrn5+yxNjS6P3j9y5OhH9trO5ekaGLuGtbex7ogsCXLl9yKKX4HGcV-MEYCIQDv+5zIdiAu7CLpFCIwjTAfgzsKZUW8vcWsAYGlqWsNvgIhAPUML6w6txdfzdtl94qP69Wb9Lj1ijkB8+XuNjs0qzrn",
                    licenseInformation: {
                        appTitle: "LightningChart JS Trial",
                        company: "LightningChart Ltd."
                    },
                })
                
                output.innerHTML += '<p style="color: green;">✓ License initialized successfully!</p>'
                console.log('License initialized:', lc)
                
                // Test creating a simple chart
                const chart = lc.ChartXY({ 
                    container: document.getElementById('chart') 
                })
                chart.setTitle('License Test - Valid')
                
                const series = chart.addLineSeries()
                series.add([
                    { x: 0, y: 0 },
                    { x: 1, y: 2 },
                    { x: 2, y: 1 },
                    { x: 3, y: 3 },
                    { x: 4, y: 2 }
                ])
                
                output.innerHTML += '<p style="color: green;">✓ Chart created successfully!</p>'
                output.innerHTML += '<p><strong>License is valid and working!</strong></p>'
                output.innerHTML += '<p>Today\'s date: July 28, 2025</p>'
                output.innerHTML += '<p>License valid for 30 days from today</p>'
                
            } catch (error) {
                console.error('License error:', error)
                output.innerHTML += `<p style="color: red;">✗ Error: ${error.message}</p>`
                output.innerHTML += '<p>Full error details in console (F12)</p>'
                
                // Log more details
                console.error('Full error object:', error)
                console.error('Error stack:', error.stack)
            }
        })
    </script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1 { color: #333; }
        #output {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        #chart { 
            width: 100%; 
            height: 400px; 
            border: 1px solid #ddd;
            margin-top: 20px;
        }
        code {
            background: #e0e0e0;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>LightningChart License Test</h1>
    <div id="output">
        <p>Testing license validity...</p>
    </div>
    <div id="chart"></div>
    
    <hr style="margin-top: 40px;">
    <p><strong>Note:</strong> Check the browser console (F12) for detailed logs.</p>
</body>
</html>